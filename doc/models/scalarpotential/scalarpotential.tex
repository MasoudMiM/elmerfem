\chapter{Scalar potential resulting to a given flux}

\modinfo{Module name}{\Idx{ScalarPotentialSolver}}
\modinfo{Module subroutines}{ScalarPotentialSolver}
\begin{versiona}
\modinfo{Module authors}{Peter Råback}
\modinfo{Document authors}{Peter Råback}
\modinfo{Document edited}{15.2.2008}


\section{Introduction}

This module is an auxiliary solver that may be used to compute the
scalar potential that results to a given flux. The flux is assumed to 
be an vector field resulting from some computation.
This solver is the dual of the \texttt{FluxSolver}. 
Computing first the flux of a given potential and thereafter 
resolving for the potential that creates the flux should give approximately
the original potential. 

\section{Theory}

The flux resulting from a potential field is assumed to be
proportional to the gradient of the field, $\phi$. The
proportionality factor is here called conductivity,
$c$. The flux may therefore be expressed as
\begin{equation}
  q = -c \nabla \phi .
  \label{eq:flux}
\end{equation}
For heat equation the potential would this be temperature 
and the conductivity would be the heat conductivity. 

This solver solves the equation in the reverse form, i.e. given the flux
solver for the potential.
In the weak formulation this is solved so that the test function 
is the gradient of the shape function. This results to the standard 
discretization of the Poisson equation.

The potential is not defined uniquely unless the level is fixed at least
at one point. Therefore the user should set a Dirichlet condition
at least at one node.


\section{Keywords}
\end{versiona}

\sifbegin
\sifitemnt{Solver}{solver id}
\sifbegin
\sifitemnt{Equation}{String ScalarPotentialSolver}
\sifitemnt{Procedure}{File "ScalarPotentialSolver"\ "ScalarPotentialSolver"}
\sifitem{Variable}{String "Scalar Potential"}
The desired name of the resulting scalar field.
\sifitem{Flux Variable}{String}
This gives the name of the flux variable used to compute the source
term. Note that this must be the name of a vector field such as \texttt{Velocity}.
\sifitem{Flux Coefficient}{String}
This gives the name of the coefficient used in the computation of the flux.
For example, in thermal analysis it would be 
\texttt{Heat Conductivity}. If an 
non-existing material parameter is given the coefficient will be assumed
to be one, i.e. $c=1$. 
\sifend
The equation is a Poisson type of equation and defaults for it 
are set to be \texttt{cg+ILU0}. If these do not suffice, other 
linear system options should be defined.

\sifitemnt{Boundary Condition}{bc id}
\sifbegin
\sifitem{Scalar Potential}{Real}
The defined field variable must be set to be zero at least at one point.
\sifitem{Target Nodes}{Integer}
The user may also define a target node on-the-fly at which the 
condition is set.
\sifend
\sifend
