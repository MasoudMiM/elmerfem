#!/bin/sh 
# make the pdf documentation, the tar packages and set the to dist

modules="models tutorials elmersolver elmergrid matc overview elmerparam"
for m in $modules; do
  cd $m && make manual && make install && make clean && cd ..
done

cd ../misc/doc/elmergui/
pdflatex elmergui.tex
cd ../../../doc
cp ../misc/doc/elmergui/elmergui.pdf ElmerGUIManual.pdf

/bin/rm Exclude
find tutorials_files ! -type -print | grep .svn > Exclude
tar cvfX ElmerTutorialsFiles.tar Exclude tutorials_files
/bin/rm Exclude
gzip ElmerTutorialsFiles.tar

find elmergrid_files ! -type -print | grep .svn > Exclude
tar cvfX ElmerGridFiles.tar Exclude elmergrid_files
/bin/rm Exclude
gzip ElmerGridFiles.tar 

mkdir -p ElmerDocumentation
/bin/mv -f *.pdf *.tar.gz ElmerDocumentation
